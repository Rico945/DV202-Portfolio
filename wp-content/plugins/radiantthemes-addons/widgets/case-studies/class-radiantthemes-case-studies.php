<?php/** * Case Studies Addon * * @package Radiantthemes */namespace RadiantthemesAddons\Widgets;use Elementor\Controls_Manager;use Elementor\Group_Control_Typography;use Elementor\Widget_Base;if ( ! defined( 'ABSPATH' ) ) {	exit; // Exit if accessed directly.}/** * Elementor Blog widget. * * Elementor widget that displays posts in different styles. * * @since 1.0.0 */class Radiantthemes_style_Case_Studies extends Widget_Base {	/**	 * Retrieve the widget name.	 *	 * @since 1.1.0	 *	 * @access public	 *	 * @return string Widget name.	 */	public function get_name() {		return 'radiant-case_studies';	}	/**	 * Retrieve the widget title.	 *	 * @since 1.1.0	 *	 * @access public	 *	 * @return string Widget title.	 */	public function get_title() {		return esc_html__( 'Case Studies', 'radiantthemes-addons' );	}	/**	 * Retrieve the widget icon.	 *	 * @since 1.1.0	 *	 * @access public	 *	 * @return string Widget icon.	 */	public function get_icon() {		return 'eicon-post-list';	}	/**	 * Requires css files.	 *	 * @return array	 */	public function get_style_depends() {		return array(			'rt-case',		);	}	/**	 * Requires js files.	 *	 * @return array	 */	public function get_script_depends() {		return array(			'rt-case-tilt',			'rt-case',		);	}	/**	 * Retrieve the list of categories the widget belongs to.	 *	 * Used to determine where to display the widget in the editor.	 *	 * Note that currently Elementor supports only one category.	 * When multiple categories passed, Elementor uses the first one.	 *	 * @since 1.1.0	 *	 * @access public	 *	 * @return array Widget categories.	 */	public function get_categories() {		return array( 'radiant-widgets-category' );	}/**	 * Register the widget controls.	 *	 * Adds different input fields to allow the user to change and customize the widget settings.	 *	 * @since 1.1.0	 *	 * @access protected	 */	public function get_case_categories() {		$testimonial_terms = get_terms(			array(				'taxonomy'   => 'case-study-category',				'hide_empty' => false,			)		);		$testimonial_category_array = array();		$testimonial_category_array = array( 'all' => 'Show all categories' );		if ( ! empty( $testimonial_terms ) ) {			foreach ( $testimonial_terms as $testimonial_term ) {				$testimonial_category_array[ $testimonial_term->slug ] = $testimonial_term->name;			}		}		return $testimonial_category_array;	}	/**	 * Register the widget controls.	 *	 * Adds different input fields to allow the user to change and customize the widget settings.	 *	 * @since 1.1.0	 *	 * @access protected	 */	protected function register_controls() {			$this->start_controls_section(				'section_content',				array(					'label' => esc_html__( 'Content', 'radiantthemes-addons' ),				)			);		$this->add_control(			'case_study_style_variation',			array(				'label'       => esc_html__( 'Case Study Style', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT,				'options'     => array(					'one'   => esc_html__( 'Style One (ZoomIn On Hover)', 'radiantthemes-addons' ),					'two'   => esc_html__( 'Style Two (Overlay SlideUp On Hover)', 'radiantthemes-addons' ),					'three' => esc_html__( 'Style Three (ZoomIn - Button TranslateY On Hover)', 'radiantthemes-addons' ),					'four'  => esc_html__( 'Style Four', 'radiantthemes-addons' ),					'five'  => esc_html__( 'Style Five', 'radiantthemes-addons' ),				),				'default'     => 'one',			)		);		$this->add_control(			'case_category',			array(				'label'       => esc_html__( 'Select Category', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT2,				'options'     => $this->get_case_categories(),				'default'     => 'all',			)		);		$this->add_control(			'no_of_case_studies',			array(				'label'       => __( 'Number of Case Studies', 'radiantthemes-addons' ),				'type'        => Controls_Manager::TEXT,				'description' => esc_html__( 'Enter number of Case Studies to display. Leave blank to show all posts.', 'radiantthemes-addons' ),			)		);								$this->add_control(			'case_study_enable_title',			array(				'label'       => esc_html__( 'Case Study Enable Title?', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT,				'options'     => array(					'yes' => esc_html__( 'Yes', 'radiantthemes-addons' ),					'no'  => esc_html__( 'No', 'radiantthemes-addons' ),				),				'default'     => 'yes',			)		);		$this->add_control(			'case_study_enable_excerpt',			array(				'label'       => esc_html__( 'Case Study Enable excerpt?', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT,				'condition'   => [					'case_study_style_variation' => Array('four','three'),				],				'options'     => array(					'yes' => esc_html__( 'Yes', 'radiantthemes-addons' ),					'no'  => esc_html__( 'No', 'radiantthemes-addons' ),				),				'default'     => 'yes',			)		);		$this->add_control(			'enable_cat',			array(				'label'       => esc_html__( 'Case Study Enable Category?', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT,				'condition'   => [					'case_study_style_variation' => Array('one','two','three','five'),				],				'options'     => array(					'yes' => esc_html__( 'Yes', 'radiantthemes-addons' ),					'no'  => esc_html__( 'No', 'radiantthemes-addons' ),			),				'default'     => 'yes',			)		);		/*$this->add_control(			'pricing_table_highlight',			array(				'label'        => __( 'Enable Link Button?', 'radiantthemes-addons' ),				'type'         => Controls_Manager::SWITCHER,				'label_on'     => __( 'Show', 'radiantthemes-addons' ),				'label_off'    => __( 'Hide', 'radiantthemes-addons' ),				'return_value' => 'yes',				'default'      => 'no',											)		);*/		$this->add_control(			'case_study_link_button_text',			array(				'label'       => __( 'Link Button Text', 'radiantthemes-addons' ),				'type'        => Controls_Manager::TEXT,				'description' => esc_html__( 'Enter text for link button. E.g. Details', 'radiantthemes-addons' ),				'condition'   => [					'case_study_style_variation' => Array('one','four','three','five'),				],				'default'     => 'Details',			)		);                $this->add_control(			'allow_carousel',			array(				'label'        => __( 'Allow Carousel', 'radiantthemes-addons' ),				'condition'   => [					'case_study_style_variation!' => Array('one','five'),				],				'type'         => Controls_Manager::SWITCHER,				'label_on'     => __( 'Yes', 'radiantthemes-addons' ),				'label_off'    => __( 'No', 'radiantthemes-addons' ),				'return_value' => 'true',				'default'      => 'no',										)		);        $this->add_control(			'max_posts',			array(				'label'       => __( 'Count', 'radiantthemes-addons' ),				'type'        => Controls_Manager::TEXT,				'description' => esc_html__( 'Number of posts to show ( -1 for all posts )', 'radiantthemes-addons' ),				'default'     => '-1',				'condition'   => array(					'allow_autoplay' => 'true',				),			)		);		$this->add_control(			'posts_in_desktop',			array(				'label'       => __( 'Number of Posts on Desktop', 'radiantthemes-addons' ),				'type'        => Controls_Manager::TEXT,				'description' => esc_html__( 'Posts on Desktop (in single row)', 'radiantthemes-addons' ),				'default'     => '5',				'condition'   => array(					'allow_carousel' => 'true',				),			)		);		$this->add_control(			'posts_in_tab',			array(				'label'       => __( 'Number of Posts on Tab', 'radiantthemes-addons' ),				'type'        => Controls_Manager::TEXT,				'description' => esc_html__( 'Posts on Tab (in single row)', 'radiantthemes-addons' ),				'default'     => '5',				'condition'   => array(					'allow_carousel' => 'true',				),			)		);		$this->add_control(			'posts_in_mobile',			array(				'label'       => __( 'Number of Posts on Mobile', 'radiantthemes-addons' ),				'type'        => Controls_Manager::TEXT,				'description' => esc_html__( 'Posts on Mobile (in single row)', 'radiantthemes-addons' ),				'default'     => '1',				'condition'   => array(					'allow_carousel' => 'true',				),			)		);		$this->add_control(			'space_between_posts',			array(				'label'       => esc_html__( 'Space beteen posts', 'radiantthemes-addons' ),				'type'        => Controls_Manager::NUMBER,				'description' => esc_html__( 'Space between Two Posts', 'radiantthemes-addons' ),				'condition'   => array(					'allow_carousel' => 'true',				),				'default'     => 30,			)		);						$this->add_control(			'case_study_looping_order',			array(				'label'       => esc_html__( 'Order By', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT,				'options'     => array(					'date'       => esc_html__( 'Date', 'radiantthemes-addons' ),					'ID'         => esc_html__( 'ID', 'radiantthemes-addons' ),					'title'      => esc_html__( 'Title', 'radiantthemes-addons' ),					'modified'   => esc_html__( 'Modified', 'radiantthemes-addons' ),					'random'     => esc_html__( 'Random', 'radiantthemes-addons' ),					'menu_order' => esc_html__( 'Menu order', 'radiantthemes-addons' ),				),				'default'     => 'ID',			)		);		$this->add_control(			'case_study_looping_sort',			array(				'label'       => esc_html__( 'Sort Order', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT,				'options'     => array(					'ASC'  => esc_html__( 'Ascending', 'radiantthemes-addons' ),					'DESC' => esc_html__( 'Descending', 'radiantthemes-addons' ),				),				'default'     => 'DESC',			)		);		$this->end_controls_section();		$this->start_controls_section(			'style_section',			array(				'label' => __( 'Style', 'radiantthemes-addons' ),				'tab'   => Controls_Manager::TAB_STYLE,			)		);        $this->add_control(		'h_color',			array(				'label'     => esc_html__( 'Hover Background Color', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'default'   => '#000',				'condition'   => [					'case_study_style_variation' => Array('two'),				],				'selectors' => array(					'{{WRAPPER}} figure.rt-text-appear-effect .data' => 'background: {{VALUE}};',									),			)		);		$this->add_group_control(			Group_Control_Typography::get_type(),			array(				'name'     => 'title_typography',				'label'    => __( 'Title Typography', 'radiantthemes-addons' ),								'selector' =>					'{{WRAPPER}} .c-logo h4, {{WRAPPER}} .data h6,{{WRAPPER}} .rt-case-studies h6,{{WRAPPER}} .rt-case-study-box-five h6',			)		);		$this->add_control(		'title_color',			array(				'label'     => esc_html__( 'Title Color', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'default'   => '#000',				'selectors' => array(					'{{WRAPPER}} .rt-case-studies h6' => 'color: {{VALUE}};',					'{{WRAPPER}} .rt-case-study-box-five h6' => 'color: {{VALUE}};',					'{{WRAPPER}} .data h6' => 'color: {{VALUE}};',					'{{WRAPPER}} .c-logo h4' => 'color: {{VALUE}};',				),			)		);		$this->add_group_control(			Group_Control_Typography::get_type(),			array(				'name'     => 'cat_typography',				'label'    => __( 'Category Typography', 'radiantthemes-addons' ),								'condition'   => [					'case_study_style_variation' => Array('two','three','five'),				],				'selector' =>					'{{WRAPPER}} .rt-tagbx span, {{WRAPPER}} .data p,					 {{WRAPPER}} .rt-effect.rt-effect-six .tag-area .tab-txt',			)		);		$this->add_control(		'cat_color',			array(				'label'     => esc_html__( 'Category Color', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'default'   => '#000',				'condition'   => [					'case_study_style_variation' => Array('two','three','five'),				],				'selectors' => array(					'{{WRAPPER}} .rt-tagbx span' => 'color: {{VALUE}};',					'{{WRAPPER}} .data p' => 'color: {{VALUE}};',					'{{WRAPPER}} .rt-effect.rt-effect-six .tag-area .tab-txt' => 'color: {{VALUE}};',				),			)		);		$this->add_group_control(			Group_Control_Typography::get_type(),			array(				'name'     => 'ex_typography',				'label'    => __( 'Excerpt Typography', 'radiantthemes-addons' ),								'condition'   => [					'case_study_style_variation' => Array('four','three'),				],				'selector' =>					'{{WRAPPER}} .rt-case-studies p,{{WRAPPER}} .rt-case-study-box-five p',			)		);		$this->add_control(		'ex_color',			array(				'label'     => esc_html__( 'Excerpt Color', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'default'   => '#000',				'selectors' => array(					'{{WRAPPER}} .rt-case-studies p' => 'color: {{VALUE}};',					'{{WRAPPER}} .rt-case-study-box-five p' => 'color: {{VALUE}};',				),				'condition'   => [					'case_study_style_variation' => Array('four','three'),				],			)		);		$this->add_group_control(			Group_Control_Typography::get_type(),			array(				'name'     => 'bt_typography',				'label'    => __( 'Button Text Typography', 'radiantthemes-addons' ),								'condition'   => [					'case_study_style_variation' => Array('one','four','three','five'),				],				'selector' =>					'{{WRAPPER}} a.rt-readmore-btn, {{WRAPPER}} .rt-text-btn,{{WRAPPER}} .rt-case-study-box-five .discover-btn, {{WRAPPER}} .rt-case-btn-swipe-hov .rt-text-btn',			)		);		$this->add_control(		'bt_color',			array(				'label'     => esc_html__( 'Button Text Color', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'default'   => '#000',				'condition'   => [					'case_study_style_variation' => Array('one','four','three','five'),				],				'selectors' => array(					'{{WRAPPER}} .rt-btn-swipe-hov .rt-text-btn' => 'color: {{VALUE}};',					'{{WRAPPER}} .rt-case-study-box-five .discover-btn' => 'color: {{VALUE}};',					'{{WRAPPER}} .rt-case-btn-swipe-hov .rt-text-btn' => 'color: {{VALUE}};',					'{{WRAPPER}} a.rt-readmore-btn' => 'color: {{VALUE}};',					'{{WRAPPER}} a.rt-readmore-btn svg' => 'fill: {{VALUE}};',																			),			)		);						$this->add_control(			'radiant_blog_btn_gradient_bg_add',			[				'label'        => esc_html__( 'Add Hover Gradient Background?', 'radiantthemes-addons' ),				'type'         => Controls_Manager::SWITCHER,				'label_on'     => esc_html__( 'Yes', 'radiantthemes-addons' ),				'label_off'    => esc_html__( 'No', 'radiantthemes-addons' ),				'return_value' => 'yes',				'default'      => 'yes',				'condition'   => [					'case_study_style_variation' => Array('four'),				],			]		);		$this->add_control(			'radiant_blog_btn_gradient_bg_type',			[				'label'       => esc_html__( 'Gradient Background Type', 'radiantthemes-addons' ),				'label_block' => true,				'type'        => Controls_Manager::SELECT2,				'options'     => [					'to bottom'       => esc_html__( 'To Bottom', 'radiantthemes-addons' ),					'to top'          => esc_html__( 'To Top', 'radiantthemes-addons' ),					'to right'        => esc_html__( 'To Right', 'radiantthemes-addons' ),					'to left'         => esc_html__( 'To Left', 'radiantthemes-addons' ),					'to top left'     => esc_html__( 'To Top Left', 'radiantthemes-addons' ),					'to bottom left'  => esc_html__( 'To Bottom Left', 'radiantthemes-addons' ),					'to top right'    => esc_html__( 'To Top Right', 'radiantthemes-addons' ),					'to bottom right' => esc_html__( 'To Bottom Right', 'radiantthemes-addons' ),				],				'condition'   => [					'radiant_blog_btn_gradient_bg_add' => 'yes',					'case_study_style_variation' => Array('four'),				],				'description' => esc_html__( 'Select backgroud type.', 'radiantthemes-addons' ),			]		);		$this->add_control(			'radiant_blog_btn_gradient_bg_color_one',			[				'label'     => esc_html__( 'Background Color (One)', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'condition' => [					'radiant_blog_btn_gradient_bg_add' => 'yes',					'case_study_style_variation' => Array('four'),				],			]		);		$this->add_control(			'radiant_blog_btn_gradient_bg_color_two',			[				'label'     => esc_html__( 'Background Color (Two)', 'radiantthemes-addons' ),				'type'      => Controls_Manager::COLOR,				'selectors' => [					'{{WRAPPER}} .rt-case-study-box-five::after' => 'background: linear-gradient({{radiant_blog_btn_gradient_bg_type.VALUE}}, {{radiant_blog_btn_gradient_bg_color_one.VALUE}} 0%, {{VALUE}} 100%)',								],				'condition' => [					'radiant_blog_btn_gradient_bg_add' => 'yes',					'case_study_style_variation' => Array('four'),				],			]		);		$this->end_controls_section();	}	/**	 * Render the widget output on the frontend.	 *	 * Written in PHP and used to generate the final HTML.	 *	 * @since 1.1.0	 *	 * @access protected	 */	protected function render() {		$settings = $this->get_settings_for_display();							require 'template/template-case-study-style-' . esc_attr( $settings['case_study_style_variation'] ) . '.php';			echo $output;	}	/**	 * Render the widget output in the editor.	 *	 * Written as a Backbone JavaScript template and used to generate the live preview.	 *	 * @since 1.1.0	 *	 * @access protected	 */}